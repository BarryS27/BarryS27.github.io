/* =========================================
    Variables
   ========================================= */
$text-primary:   rgba(29, 29, 31, 0.95);
$text-secondary: rgba(29, 29, 31, 0.65);
$text-tertiary:  rgba(29, 29, 31, 0.45);
$text-caption:   rgba(0, 0, 0, 0.4);
$color-brand:    #F59E0B;

$gap-layout:     24px;
$padding-section: 80px;

$anim-bouncy:    all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
$anim-simple:    all 0.3s ease;

/* =========================================
    Mixins
   ========================================= */
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-column($gap: $gap-layout) {
    display: flex;
    flex-direction: column;
    gap: $gap;
}

@mixin std-thin {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(30px) saturate(180%);
    -webkit-backdrop-filter: blur(30px) saturate(180%);
    border: 1px solid rgba(0, 0, 0, 0.06);
    border-top: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
}

@mixin glass {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%);
    backdrop-filter: url("#glass-filter") blur(12px) saturate(120%);
    -webkit-backdrop-filter: url("#glass-filter") blur(12px) saturate(120%);
    border: 1px solid rgba(255, 255, 255, 0.25);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.05);
    will-change: backdrop-filter;
}

/* =========================================
    Global Initialization
   ========================================= */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
    margin: 0; padding: 0;
    font-family: "Inter", "Segoe UI", sans-serif;
    color: $text-primary;
    line-height: 1.8;
    background-color: #f5f5f7;

    &::before {
        content: "";
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: url('/static/images/background.webp') no-repeat center center / cover;
        filter: brightness(1.05) saturate(130%);
        z-index: -1;
    }
}

.container {
    @include flex-column(24px);
    max-width: 900px;
    margin: 0 auto;
    padding: $padding-section 24px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: $gap-layout;
    > h1, > h3, > footer { grid-column: 1 / -1; }
    section:nth-of-type(n+5) { grid-column: 1 / -1; }
    @media (max-width: 768px) { grid-template-columns: 1fr; }
}

/* =========================================
    Universal Elements
   ========================================= */

// Section Label
.section-label {
    margin: 0 0 calc($gap-layout / 3) 0;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    font-size: 0.65rem;
    font-weight: 400;
    color: $text-tertiary;
    display: block;
    line-height: 1;
}

// Card
section {
    @include std-thin;
    padding: calc($gap-layout * 1.5);
    border-radius: $gap-layout;
    margin-bottom: $gap-layout;

    h1 { font-size: 2.2rem; margin: 0; letter-spacing: -0.02em; }
    h3 { font-size: 1.25rem; margin: 0; font-weight: 600; line-height: 1.3; }
    p { margin: 4px 0 0 0; font-size: 0.95rem; color: $text-secondary; }

    // Project Link
    a {
        display: inline-block;
        margin-top: 15px;
        font-size: 0.85rem;
        font-weight: 600;
        color: $color-brand;
        text-decoration: none;
        transition: $anim-simple;

        &:hover {
            opacity: 0.8;
            transform: translateX(3px);
        }
    }
}

// Button
button {
    @include glass;
    padding: 8px 20px;
    border-radius: 12px;
    border: none;
    color: #fff;
    font-size: 0.9rem;
    cursor: pointer;
    transition: $anim-bouncy;

    &:hover { transform: scale(1.02); }
    &:focus { outline: 2px solid $color-brand; outline-offset: 2px; }
}

/* =========================================
    Specialized
   ========================================= */

header nav {
    position: fixed; top: $gap-layout; left: $gap-layout; z-index: 90;

    ul {
        display: flex; gap: 12px;
        list-style: none; padding: 0; margin: 0;
    }

    a, button {
        @include glass;
        @include flex-center;
        width: 44px; height: 44px;
        border-radius: 50%;
        color: $text-secondary;
        transition: $anim-bouncy;

        &:hover {
            transform: scale(1.1);
            color: $color-brand;
        }
    }
}

// Contact Modal
div[role="dialog"] {
    @include std-thin;
    @include flex-column(12px);
    box-shadow: 
        0 0 0 100vmax rgba(0, 0, 0, 0.4),
        0 30px 60px rgba(0, 0, 0, 0.2);
    
    position: fixed;
    inset: 0;
    margin: auto;
    z-index: 100;
    
    width: min(90%, calc($gap-layout * 20)); 
    height: fit-content;
    
    @include flex-column($gap-layout);
    padding: calc($gap-layout * 2);
    border-radius: $gap-layout;
    
    display: none;

    > button[type="button"] {
        position: absolute; 
        top: 20px; 
        right: 20px;
        
        width: 32px; 
        height: 32px; 
        padding: 0; 
        border-radius: 50%; 
        
        background: rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(0, 0, 0, 0.05);
        @include flex-center;
        
        color: $text-secondary;
        font-size: 0.8rem;
        transition: $anim-simple;

        &:hover {
            background: rgba(255, 69, 58, 0.12); 
            color: rgba(255, 69, 58, 0.8);
            border-color: rgba(255, 69, 58, 0.1);
        }
    }

    form {
        @include flex-column($gap-layout);
        width: 100%;
        
        textarea {
            width: 100%;
            aspect-ratio: 16 / 9;
            padding: calc($gap-layout / 2);
            background: rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: calc($gap-layout / 2);
            outline: none;
            &:focus { border-color: $color-brand; }
        }

        button[type="submit"] { padding: calc($gap-layout / 2); }
    }
}

/* =========================================
    Footer & Helpers
   ========================================= */
footer {
    @include flex-column(16px);
    align-items: center;
    padding: $padding-section 24px 40px;
    color: $text-secondary;

    div { @include flex-center; gap: 20px; }
    a { color: $text-tertiary; transition: $anim-simple; &:hover { color: $color-brand; } }
    small { font-size: 0.85em; color: $text-tertiary; }
}

// Helpers
.sr-only {
    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0;
}

@media (prefers-reduced-motion: reduce) {
    *, *::before { animation: none !important; transition: none !important; }
}



/* =========================================
    Responsive Design
   ========================================= */

@media (max-width: 768px) {
    section { 
        padding: 20px;
        h1 { font-size: 1.8rem; }
        h3 { font-size: 1.1rem; }
    }
}
